{"version":3,"file":"index.js","sources":["pages/templates/index.vue","../../../../软件/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdGVtcGxhdGVzL2luZGV4LnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"wrap\">\n    <view class=\"search\">\n      <input placeholder=\"搜索模板关键字…\" v-model=\"q\" @confirm=\"doSearch\" />\n    </view>\n    <view class=\"grid\">\n      <view v-for=\"t in list\" :key=\"t.id\" class=\"tile\" @click=\"goDetail(t.id)\">\n        <image class=\"cover\" :src=\"t.coverUrl\" mode=\"aspectFill\" />\n        <view class=\"title\">{{t.title}}</view>\n        <view class=\"tags\">\n          <text v-for=\"tag in t.tags\" :key=\"tag\" class=\"tag\">#{{tag}}</text>\n        </view>\n      </view>\n    </view>\n    <view class=\"cta\">\n      <button size=\"mini\" @click=\"goCreate\">去创作</button>\n      <button size=\"mini\" @click=\"goWorks\">看作品</button>\n    </view>\n  </view>\n</template>\n<script setup lang=\"ts\">\nimport { ref, onMounted, computed } from 'vue'\nimport type { TemplateItem } from '../../utils/mock-api'\nimport { getTemplates } from '../../utils/mock-api'\n\nconst q = ref('')\nconst raw = ref<TemplateItem[]>([])\n\nconst list = computed(() => {\n  if (!q.value) return raw.value\n  const keyword = q.value.trim()\n  return raw.value.filter((t) =>\n    t.title.includes(keyword) || t.tags.some((x) => x.includes(keyword))\n  )\n})\n\nonMounted(async () => {\n  const templates = await getTemplates()\n  raw.value = templates || []\n})\n\nfunction doSearch() {}\n\nfunction goDetail(id: string) {\n  if (!id) return\n  uni.navigateTo({ url: `/pages/templates/detail?id=${id}` })\n}\nfunction goCreate(){ uni.switchTab({ url: '/pages/editor/index' }) }\nfunction goWorks(){ uni.switchTab({ url: '/pages/works/index' }) }\n</script>\n<style>\n.wrap{ padding:24rpx }\n.search input{ background:#fff; border-radius:16rpx; padding:16rpx; box-shadow:0 6rpx 18rpx rgba(0,0,0,.06) }\n.grid{ display:grid; grid-template-columns:1fr 1fr; gap:16rpx; margin-top:16rpx }\n.tile{ background:#fff; border-radius:16rpx; overflow:hidden; box-shadow:0 6rpx 18rpx rgba(0,0,0,.06) }\n.cover{ width:100%; height:360rpx; background:#eee }\n.title{ font-size:28rpx; padding:12rpx 12rpx 0 12rpx }\n.tags{ padding:0 12rpx 12rpx 12rpx; color:#666 }\n.tag{ margin-right:8rpx; font-size:22rpx }\n.cta{ display:flex; gap:16rpx; margin-top:24rpx }\n</style>\n","import MiniProgramPage from 'D:/GitHub/Creative-Calendar/apps/miniapp/pages/templates/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","onMounted","getTemplates","uni","MiniProgramPage"],"mappings":";;;;;;AAyBM,UAAA,IAAIA,kBAAI,EAAE;AACV,UAAA,MAAMA,kBAAoB,CAAA,CAAE;AAE5B,UAAA,OAAOC,cAAAA,SAAS,MAAM;AAC1B,UAAI,CAAC,EAAE;AAAO,eAAO,IAAI;AACnB,YAAA,UAAU,EAAE,MAAM,KAAK;AAC7B,aAAO,IAAI,MAAM;AAAA,QAAO,CAAC,MACvB,EAAE,MAAM,SAAS,OAAO,KAAK,EAAE,KAAK,KAAK,CAAC,MAAM,EAAE,SAAS,OAAO,CAAC;AAAA,MAAA;AAAA,IACrE,CACD;AAEDC,kBAAAA,UAAU,YAAY;AACd,YAAA,YAAY,MAAMC,cAAAA;AACpB,UAAA,QAAQ,aAAa;IAAC,CAC3B;AAED,aAAS,WAAW;AAAA,IAAC;AAErB,aAAS,SAAS,IAAY;AAC5B,UAAI,CAAC;AAAI;AACTC,oBAAA,MAAI,WAAW,EAAE,KAAK,8BAA8B,EAAE,IAAI;AAAA,IAC5D;AACA,aAAS,WAAU;AAAEA,oBAAAA,MAAI,UAAU,EAAE,KAAK,sBAAuB,CAAA;AAAA,IAAE;AACnE,aAAS,UAAS;AAAEA,oBAAAA,MAAI,UAAU,EAAE,KAAK,qBAAsB,CAAA;AAAA,IAAE;;;;;;;;;;;;;;;;;;;;;;;;;;AC/CjE,GAAG,WAAWC,SAAe;"}