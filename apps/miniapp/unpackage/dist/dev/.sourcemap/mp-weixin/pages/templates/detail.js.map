{"version":3,"file":"detail.js","sources":["pages/templates/detail.vue","../../../../软件/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdGVtcGxhdGVzL2RldGFpbC52dWU"],"sourcesContent":["<template>\n  <view class=\"wrap\" v-if=\"tpl\">\n    <image class=\"cover\" :src=\"tpl.coverUrl\" mode=\"aspectFill\" />\n    <view class=\"title\">{{tpl.title}}</view>\n    <view class=\"meta\">\n      <text v-for=\"tag in tpl.tags\" :key=\"tag\" class=\"tag\">#{{tag}}</text>\n    </view>\n    <view class=\"actions\">\n      <button class=\"use\" @click=\"useThis\">使用此模板</button>\n      <button class=\"fav\" @click=\"fav\">收藏</button>\n    </view>\n    <view class=\"section\">\n      <view class=\"h\">适配尺寸</view>\n      <view class=\"chips\">\n        <text v-for=\"s in tpl.sizeHints\" :key=\"s\" class=\"chip\">{{s}}</text>\n      </view>\n    </view>\n    <view class=\"section\">\n      <view class=\"h\">作者</view>\n      <view>{{detail?.author?.name || '未知'}}</view>\n    </view>\n  </view>\n  <view v-else class=\"empty\">\n    <view class=\"hint\">未找到对应模板，返回模板库看看其他灵感吧。</view>\n    <button size=\"mini\" @click=\"goTemplates\">返回模板库</button>\n  </view>\n</template>\n<script setup lang=\"ts\">\nimport { onLoad } from '@dcloudio/uni-app'\nimport { ref, computed } from 'vue'\nimport type { TemplateDetail } from '../../utils/mock-api'\nimport { getTemplateDetail, createProjectFromTemplate } from '../../utils/mock-api'\n\nconst id = ref('')\nconst detail = ref<TemplateDetail | null>(null)\nconst tpl = computed(() => detail.value)\n\nonLoad(async (q) => {\n  id.value = (q?.id as string) || ''\n  if (!id.value) return\n  const fetched = await getTemplateDetail(id.value)\n  detail.value = fetched || null\n})\n\nasync function useThis() {\n  if (!id.value) return\n  const { projectId } = await createProjectFromTemplate(id.value)\n  uni.navigateTo({ url:`/pages/editor/index?pid=${projectId}` })\n}\n\nfunction fav(){ uni.showToast({ title:'已收藏（mock）', icon:'none' }) }\n\nfunction goTemplates(){ uni.switchTab({ url: '/pages/templates/index' }) }\n</script>\n<style>\n.wrap{ padding:24rpx }\n.cover{ width:100%; height:520rpx; border-radius:16rpx; background:#eee }\n.title{ font-size:36rpx; font-weight:700; margin-top:16rpx }\n.meta{ color:#666; margin-top:8rpx }\n.tag{ margin-right:8rpx }\n.actions{ display:flex; gap:16rpx; margin:16rpx 0 }\n.use{ background:#7C6CFF; color:#fff }\n.fav{ border:2rpx solid #7C6CFF; color:#7C6CFF; background:#fff }\n.section{ margin-top:16rpx; background:#fff; padding:16rpx; border-radius:16rpx; box-shadow:0 6rpx 18rpx rgba(0,0,0,.06) }\n.h{ font-size:28rpx; margin-bottom:8rpx }\n.chips .chip{ display:inline-block; padding:6rpx 12rpx; background:#F7F7F9; border-radius:12rpx; margin-right:8rpx }\n.empty{ padding:48rpx 24rpx; text-align:center; color:#666 }\n.hint{ margin-bottom:16rpx }\n</style>\n","import MiniProgramPage from 'D:/GitHub/Creative-Calendar/apps/miniapp/pages/templates/detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","onLoad","getTemplateDetail","createProjectFromTemplate","uni","MiniProgramPage"],"mappings":";;;;;;AAiCM,UAAA,KAAKA,kBAAI,EAAE;AACX,UAAA,SAASA,kBAA2B,IAAI;AAC9C,UAAM,MAAMC,cAAA,SAAS,MAAM,OAAO,KAAK;AAEvCC,kBAAA,OAAO,OAAO,MAAM;AACf,SAAA,SAAS,uBAAG,OAAiB;AAChC,UAAI,CAAC,GAAG;AAAO;AACf,YAAM,UAAU,MAAMC,cAAAA,kBAAkB,GAAG,KAAK;AAChD,aAAO,QAAQ,WAAW;AAAA,IAAA,CAC3B;AAED,mBAAe,UAAU;AACvB,UAAI,CAAC,GAAG;AAAO;AACf,YAAM,EAAE,UAAU,IAAI,MAAMC,cAAA,0BAA0B,GAAG,KAAK;AAC9DC,oBAAA,MAAI,WAAW,EAAE,KAAI,2BAA2B,SAAS,IAAI;AAAA,IAC/D;AAEA,aAAS,MAAK;AAAEA,oBAAA,MAAI,UAAU,EAAE,OAAM,aAAa,MAAK,QAAQ;AAAA,IAAE;AAElE,aAAS,cAAa;AAAEA,oBAAAA,MAAI,UAAU,EAAE,KAAK,yBAA0B,CAAA;AAAA,IAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnDzE,GAAG,WAAWC,SAAe;"}